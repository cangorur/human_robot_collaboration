# POMDP file for plan estimation, a person looks for and takes his glasses.
#

discount: 0.95 # TODO
values: reward # TODO

# human states in the world, regarding the desire for taking the glasses
states:
	TaskHuman
	MayNotBeCapable
	MayBeTired
	NoFocus
	NeedsToBeReminded
	NeedsHelp
	NoNeedHelp
	WarningReceived
	GlobalSuccess
	GlobalFail
TaskRobot

########################################
# Actions: 
# human and robot actions regarding the human desire of having the glasses
# Note that only one action can be executed at the same time (can be in_progress)
actions:
	idle
	grasp
	cancel
	point
	graspPlanning

########################################
# Observations: 
# 
# for the simplicity, only for once, we will only use the action states: in progress, help_needed, aborted, done
# info: Robot actions are not observed. Even though the robot moves it still observes human actions
observations:
	o0
	o1
	o2
	o3
	o4
	o5
	o6
	o7
	o8
	o9
	o10
  
  
########################################
# Start probabilities - Initial Belief
start include: 1 0 0 0 0 0 0 0 0 0 0


########################################
# State Transitions
#
#   knowsN_hasN_wantsY	knowsN_hasN_wantsN  knowsY_hasN_wantsY	knowsY_hasN_wantsN  knowsY_hasY  needs_find  needs_fetch

T : idle
0.35	0.1	0.2	0.1	0.01	0.01	0.01	0.01	0.1	0.1	0.01
0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.1	0.1	0.1	0.01	0.01	0.1	0.01	0.35	0.2	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9

T : grasp
0.71	0.01	0.01	0.01	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.71	0.01	0.01	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.71	0.01	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.01	0.71	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.71	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.2	0.52	0.2	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.41	0.5	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.15	0.6	0.17	0.01

T : cancel
0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.1	0.52	0.3	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9

T : point
0.71	0.01	0.01	0.01	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.71	0.01	0.01	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.71	0.01	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.01	0.71	0.01	0.01	0.01	0.2	0.01	0.01	0.01
0.01	0.01	0.01	0.1	0.01	0.01	0.01	0.13	0.5	0.2	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.71	0.2	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9

T : graspPlanning
0.9	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.2	0.1	0.1	0.01	0.3	0.01	0.01	0.2	0.05	0.01
0.01	0.1	0.2	0.1	0.01	0.3	0.01	0.01	0.2	0.05	0.01
0.01	0.1	0.1	0.2	0.3	0.01	0.01	0.01	0.2	0.05	0.01
0.01	0.01	0.01	0.1	0.81	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.05	0.05	0.05	0.01	0.08	0.6	0.01	0.12	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9

########################################
# Observation Probabilities
#
#    	 Observations	
# States

O : idle
0.01	0.01	0.31	0.3	0.01	0.01	0.01	0.01	0.31	0.01	0.01
0.05	0.05	0.15	0.4	0.01	0.01	0.05	0.05	0.21	0.01	0.01
0.1	0.01	0.1	0.01	0.01	0.01	0.22	0.01	0.51	0.01	0.01
0.05	0.21	0.01	0.01	0.01	0.01	0.01	0.66	0.01	0.01	0.01
0.05	0.3	0.01	0.01	0.01	0.01	0.01	0.57	0.01	0.01	0.01
0.25	0.05	0.05	0.05	0.01	0.01	0.2	0.26	0.1	0.01	0.01
0.01	0.01	0.1	0.81	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.46	0.01	0.01	0.01	0.01	0.45	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9
0.01	0.01	0.01	0.01	0.01	0.01	0.3	0.21	0.41	0.01	0.01

O : grasp
0.01	0.01	0.31	0.3	0.01	0.01	0.01	0.01	0.31	0.01	0.01
0.05	0.05	0.15	0.4	0.01	0.01	0.05	0.05	0.21	0.01	0.01
0.1	0.01	0.1	0.01	0.01	0.01	0.22	0.01	0.51	0.01	0.01
0.05	0.21	0.01	0.01	0.01	0.01	0.01	0.66	0.01	0.01	0.01
0.05	0.3	0.01	0.01	0.01	0.01	0.01	0.57	0.01	0.01	0.01
0.25	0.05	0.05	0.05	0.01	0.01	0.2	0.26	0.1	0.01	0.01
0.01	0.01	0.1	0.81	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.46	0.01	0.01	0.01	0.01	0.45	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9
0.01	0.01	0.01	0.01	0.01	0.01	0.3	0.21	0.41	0.01	0.01

O : cancel
0.01	0.01	0.31	0.3	0.01	0.01	0.01	0.01	0.31	0.01	0.01
0.05	0.05	0.15	0.4	0.01	0.01	0.05	0.05	0.21	0.01	0.01
0.1	0.01	0.1	0.01	0.01	0.01	0.22	0.01	0.51	0.01	0.01
0.05	0.21	0.01	0.01	0.01	0.01	0.01	0.66	0.01	0.01	0.01
0.05	0.3	0.01	0.01	0.01	0.01	0.01	0.57	0.01	0.01	0.01
0.25	0.05	0.05	0.05	0.01	0.01	0.2	0.26	0.1	0.01	0.01
0.01	0.01	0.1	0.81	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.46	0.01	0.01	0.01	0.01	0.45	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9
0.01	0.01	0.01	0.01	0.01	0.01	0.3	0.21	0.41	0.01	0.01

O : point
0.01	0.01	0.31	0.3	0.01	0.01	0.01	0.01	0.31	0.01	0.01
0.05	0.05	0.15	0.4	0.01	0.01	0.05	0.05	0.21	0.01	0.01
0.1	0.01	0.1	0.01	0.01	0.01	0.22	0.01	0.51	0.01	0.01
0.05	0.21	0.01	0.01	0.01	0.01	0.01	0.66	0.01	0.01	0.01
0.05	0.3	0.01	0.01	0.01	0.01	0.01	0.57	0.01	0.01	0.01
0.25	0.05	0.05	0.05	0.01	0.01	0.2	0.26	0.1	0.01	0.01
0.01	0.01	0.1	0.81	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.46	0.01	0.01	0.01	0.01	0.45	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9
0.01	0.01	0.01	0.01	0.01	0.01	0.3	0.21	0.41	0.01	0.01

O : graspPlanning
0.01	0.01	0.31	0.3	0.01	0.01	0.01	0.01	0.31	0.01	0.01
0.05	0.05	0.15	0.4	0.01	0.01	0.05	0.05	0.21	0.01	0.01
0.1	0.01	0.1	0.01	0.01	0.01	0.22	0.01	0.51	0.01	0.01
0.05	0.21	0.01	0.01	0.01	0.01	0.01	0.66	0.01	0.01	0.01
0.05	0.3	0.01	0.01	0.01	0.01	0.01	0.57	0.01	0.01	0.01
0.25	0.05	0.05	0.05	0.01	0.01	0.2	0.26	0.1	0.01	0.01
0.01	0.01	0.1	0.81	0.01	0.01	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.01	0.9	0.01	0.01	0.01	0.01	0.01
0.01	0.01	0.01	0.01	0.46	0.01	0.01	0.01	0.01	0.45	0.01
0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.01	0.9
0.01	0.01	0.01	0.01	0.01	0.01	0.3	0.21	0.41	0.01	0.01

########################################
# Rewards
#
#   ACTION        START-STATE     END-STATE       OBSERVATION       REWARD				
#								
R:	grasp	: 	*	:	TaskHuman		:	*	-1
R:	grasp : *		:	GlobalSuccess		:	*	6
R:	grasp : *		:	GlobalFail		:	*	-3
R:	grasp : *		:	WarningReceived		:	*	-3

								
R:	point : *		:	TaskHuman		:	*	-1
R:	point : *		:	GlobalSuccess		:	*	6
R:	point : *		:	GlobalFail		:	*	-3
R:	point : *		:	WarningReceived		:	*	-3

R:	cancel : *		:	TaskHuman		:	*	-1
R:	cancel : *		:	GlobalSuccess		:	*	3
R:	cancel : *		:	GlobalFail		:	*	-3

# R:	idle : *		:	MayNotBeCapable		:	*	1
R:	idle : *		:	GlobalSuccess		:	*	6
R:	idle : *		:	GlobalFail		:	*	-3
R:	idle : *		:	WarningReceived		:	*	-3

R:	graspPlanning : *	:	WarningReceived		:	*	-3
R:	graspPlanning : *	:	GlobalSuccess		:	*	6
R:	graspPlanning : *	:	GlobalFail		:	*	-3
# R:	graspPlanning : *	:	NoNeedHelp		:	*	-3

R:	graspPlanning : *	:	NeedsToBeReminded	:	*	1
R:	graspPlanning : *	:	NeedsHelp		:	*	1
R:	graspPlanning : *	:	NoNeedHelp		:	*	1


								

